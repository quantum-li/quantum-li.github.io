<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>{% if page.title %}{{ page.title | escape_once }}{% else %}{{ site.title | escape_once }}{% endif %}</title>
  <meta name="description"
    content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
  <link
    href='https://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic|Source+Sans+Pro:400,700,200,300|Josefin+Sans:400,600,700,300'
    rel='stylesheet' type='text/css'>
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" href="/css/gruvbox.css" />
  <link rel="stylesheet" href="{{ "/css/style.css" | prepend: site.baseurl }}">
  <link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
  <link rel="alternate" type="application/rss+xml" title="{{ site.title }}"
    href="{{ "/feed.xml" | prepend: site.baseurl | prepend: site.url }}">
  <!-- fancybox -->
  <script type="text/javascript" src="/assets/js/mermaid.min.js"></script>
  <script type="text/javascript" src="/assets/fancybox/lib/jquery-1.10.2.min.js"></script>
  <script type="text/javascript" src="/assets/fancybox/lib/jquery.mousewheel.pack.js"></script>
  <link rel="stylesheet" href="/assets/fancybox/source/jquery.fancybox.css" type="text/css" media="screen" />
  <script type="text/javascript" src="/assets/fancybox/source/jquery.fancybox.pack.js"></script>
  <link rel="stylesheet" href="/assets/fancybox/source/helpers/jquery.fancybox-buttons.css" type="text/css"
    media="screen" />
  <script type="text/javascript" src="/assets/fancybox/source/helpers/jquery.fancybox-buttons.js"></script>
  <script type="text/javascript" src="/assets/fancybox/source/helpers/jquery.fancybox-media.js"></script>
  <link rel="stylesheet" href="/assets/fancybox/source/helpers/jquery.fancybox-thumbs.css" type="text/css"
    media="screen" />
  <script type="text/javascript" src="/assets/fancybox/source/helpers/jquery.fancybox-thumbs.js"></script>
  <script type="text/javascript" src="/assets/js/simple-jekyll-search.js"></script>
  <script>
  
  function searchBox(){
    window.simpleJekyllSearch = new SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: '/search.json',
        searchResultTemplate: '<li style="list-style-type: none;background-color: white;margin-left: 0px;"><a href="{url}" title="{desc}">{title}</a></li>',
        noResultsText: 'No results found',
        limit: 5,
        fuzzy: false,
        exclude: ['Welcome']
      })
  }

    var leafNo = 0;
    var leafDown = false;
    function leaf() {
        searchBox();


      var cur = leafNo;
      leafNo++;
      var halfScreenWidth = window.innerWidth / 2;
      var fromX = Math.random() * (window.innerWidth*0.8)+(window.innerWidth*0.1);
      var fromY = -50;
      var fromR = Math.random() * 360;
      var toX = Math.random() * (halfScreenWidth) - (halfScreenWidth / 2);
      toX = fromX + toX;
      var toY = window.innerHeight+200;
      var toR = Math.random() * 8 - 4;
      var fontSize=Math.random()*1.5+0.8;
      var leaf = '<div id="leaf' + cur + '" style="\
          display:block;\
          font-size:'+fontSize+'rem;\
          z-index:-99;\
          position:fixed;\
          top:'+ fromY + 'px;\
          left:'+ fromX + 'px;\
          transform: rotate(' + fromR + 'deg)"\
          >';
          if(Math.random()<0.8){
            leaf=leaf+'ðŸ‚';
          }else{
            leaf=leaf+'ðŸ';
          }
          leaf=leaf+'</div>';
      $("body").prepend(leaf);
      var time = setInterval(
        function () {
          fromR += toR;
          $("#leaf" + cur).css({ transform: "rotate(" + fromR + "deg)" });
        }, 100
      );
      $("#leaf" + cur).animate({
        top: toY + "px",
        left: toX + "px"
      }, Math.random() * 10000 + 20000, function () {
        $("#leaf" + cur).remove();
        clearInterval(time);
      });
    };

    $(document).ready(function () {
      leaf();
      // fancybox
      $(".post-content img").each(function (n, e) {
        $(e).wrap("<a class='fancybox'\
    rel='fancybox-thumb'\
    href='"+ $(e).attr("src") + "'\
    title='"+ $(e).attr("alt") + "'>\
    </a>")
      });

      $(".fancybox").fancybox({
        prevEffect: 'none',
        nextEffect: 'none',
        helpers: {
          title: {
            type: 'outside'
          },
          thumbs: {
            width: 50,
            height: 50
          }
        }
      });
      // end fancybox

      //anchor
      $("h1,h2,h3,h4,h5,h6").each(function (i, e) {
        if ($(e).attr("id")) {
          var anchor = '<svg style="width:1rem;margin-right:0.5rem;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg>';
          $(e).wrap("<a href='#"
            + $(e).attr("id")
            + "' style='color: black !important;'></a>");
          if (["h1", "h2", "h3"].indexOf($(e)[0].localName) >= 0) {
            $(e).prepend(anchor);
          }
        }
      });

      $("#logo").click(function(){
        leafDown=!leafDown;
      });

      setInterval(function () {
        if (leafDown&&Math.random() * 100 < 60  ) {
          leaf();
        }
      }, 1500);
    });
  </script>
  <!-- fancybox-->
  {% seo %}
</head>
